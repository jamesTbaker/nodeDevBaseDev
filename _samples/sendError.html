<!doctype html>
<html>
	<head>
		<title>EMail Input</title>
		<meta charset="UTF-8">
		<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
	</head>
	<body style="background-color: #222; color: #999">
		<form>
			<div>
				<a id="submit-button">Send Error</a>
			</div>
		</form>
		<script type="text/javascript">
			$("a#submit-button").on("click", function() {
				

		        console.log('starting send');

		        var errorData = {
					'error': true,
					'transportError': true,
					"emergencyError": true,
					"emergencyErrorDetails": "Transport error and queue error",
				};
				
				console.log(errorData);

			    $.ajaxSetup({
			        error: function(jqXHR, exception) {
			            if (jqXHR.status === 0) {
			                alert('Not connect.\n Verify Network.');
			            } else if (jqXHR.status == 404) {
			                alert('Requested page not found. [404]');
			            } else if (jqXHR.status == 500) {
			                alert('Internal Server Error [500].');
			            } else if (exception === 'parsererror') {
			                alert('Requested JSON parse failed.');
			            } else if (exception === 'timeout') {
			                alert('Time out error.');
			            } else if (exception === 'abort') {
			                alert('Ajax request aborted.');
			            } else {
			                alert('Uncaught Error.\n' + jqXHR.responseText);
			            }
			        }
			    });

				$.ajax({
					url: "http://192.168.0.11:3000/errors/twitter",
					type: "POST",
					crossDomain: true,
					contentType: 'application/json',
					data: JSON.stringify(errorData)
				})
				.done(function(returnData) {
					console.log("got it!");
					console.log(returnData);

				})
				.fail(function(error) {
					console.log("no such luck");
					console.log(error);

				});
			});
		</script>
	</body>
</html>